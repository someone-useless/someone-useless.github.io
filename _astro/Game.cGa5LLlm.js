import{g as a,t as r,d as v,c as l,a as p,b as f,e as $,s as h,r as g,f as w,i as k,S}from"./web.Bo3YaodJ.js";var x=r("<h3><strong>GAME NOT FOUND"),m=r("<br>"),C=r("<p>Well, we did not find your game, try creating a new one or check if you are typing wrong."),N=r("<h3><strong>UNKNOWN ERROR"),j=r("<p>We do not know what happened. Maybe try to refresh and join again?"),A=r("<h3><strong>Server Disconnected"),R=r("<p>This game is <strong>very instable</strong>. The server probably shut down.");const G=()=>[a(x),a(m),a(C)],O=()=>[a(N),a(m),a(j)],b=()=>[a(A),a(m),a(R)];var T=r("<div id=join-area><h1>ENTER GAME CODE</h1><input autocomplete=off type=text id=game-code><button id=enter>Enter"),M=r("<div id=create-area><h1>CREATE GAME</h1><button id=enter>Create Game");const y="https://cautious-umbrella-4jgw75wvgq59f499-8080.app.github.dev";class U{}function D(e){const[n,t]=p(""),o=RegExp("^[a-zA-Z0-9]{3}$"),s=f(()=>o.test(n())),_=async()=>{try{const c=await fetch(`${y}/game-exist/${n()}`);if(c.ok){const{game_exist:i}=await c.json();i?e.join_game(n()):e.pop_up(()=>G)}}catch{e.pop_up(()=>b)}};return(()=>{var c=a(T),u=c.firstChild,i=u.nextSibling,d=i.nextSibling;return i.$$input=E=>t(E.currentTarget.value),d.$$click=_,$(()=>h(d,"disabled",!s())),$(()=>h(i,"value",n())),g(),c})()}function P(e){const n=async()=>{try{const t=await fetch(`${y}/create-game`,{method:"POST"});if(t.ok){const{game_code:s}=await t.json();e.join_game(s)}else e.pop_up(()=>O)}catch{e.pop_up(()=>b)}};return(()=>{var t=a(M),o=t.firstChild,s=o.nextSibling;return s.$$click=n,g(),t})()}class L extends U{to_component(n,t){const o=()=>{};return[l(D,{join_game:o,pop_up:t}),l(P,{join_game:o,pop_up:t})]}}v(["input","click"]);var W=r("<div class=popup><!$><!/><button class=close>CLOSE"),F=r("<div class=popup-overlay>");function q(e){return l(S,{get when(){return e.pop_up_msg()!==void 0},get children(){return[(()=>{var n=a(W),t=n.firstChild,[o,s]=w(t.nextSibling),_=o.nextSibling;return k(n,e.pop_up_msg(),o,s),_.$$click=()=>e.pop_up(void 0),g(),n})(),a(F)]}})}function H(){const e=p(new L),[n,t]=e,[o,s]=p();return[l(q,{pop_up_msg:o,pop_up:s}),f(()=>n().to_component(e,s))]}v(["click"]);export{H as default};
